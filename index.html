<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OmniVGGT: Omni-Modality Driven Visual Geometry Grounded Transformer</title>
    <link rel="icon" type="image/png" href="images/icon.png">
    <!-- Model Viewer for 3D visualization -->
    <script type="module" src="https://ajax.googleapis.com/ajax/libs/model-viewer/3.5.0/model-viewer.min.js"></script>
    <!-- Three.js for PLY to GLB conversion -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/loaders/PLYLoader.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/exporters/GLTFExporter.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Helvetica Neue', Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            background: #ffffff;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 0;
            box-shadow: none;
            overflow: hidden;
        }

        header {
            text-align: center;
            padding: 60px 40px 40px;
            background: #ffffff;
            color: #2d3748;
            border-bottom: 1px solid #e2e8f0;
        }

        .logo-container {
            margin-bottom: 25px;
        }

        h1 {
            font-size: 2.6em;
            margin-bottom: 10px;
            font-weight: 700;
            line-height: 1.3;
            max-width: 1000px;
            margin-left: auto;
            margin-right: auto;
            color: #1a202c;
        }

        h1 .project-name {
            font-size: 1.1em;
            font-weight: 800;
            color: #667eea;
        }

        .title-divider {
            display: inline;
            margin: 0 0.3em;
            color: #667eea;
        }

        .subtitle {
            font-size: 1.2em;
            margin-bottom: 25px;
            font-weight: 400;
            line-height: 1.5;
            color: #4a5568;
        }

        .conference-tag {
            display: inline-block;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 8px 20px;
            border-radius: 25px;
            font-size: 1em;
            font-weight: 600;
            margin: 15px 0 25px;
            box-shadow: 0 2px 8px rgba(102, 126, 234, 0.3);
        }

        .authors {
            font-size: 1.05em;
            margin: 25px auto;
            line-height: 1.8;
            max-width: 900px;
            color: #2d3748;
        }

        .authors a {
            color: #667eea;
            text-decoration: none;
            border-bottom: 1px solid rgba(102, 126, 234, 0.3);
            transition: all 0.3s ease;
        }

        .authors a:hover {
            border-bottom-color: #667eea;
            color: #5568d3;
        }

        .affiliations {
            font-size: 0.95em;
            margin: 20px auto;
            line-height: 1.6;
            max-width: 800px;
            color: #718096;
        }

        .institution-logos {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 30px;
            margin: 30px auto;
            flex-wrap: wrap;
            max-width: 1000px;
        }

        .institution-logos img {
            width: auto;
            object-fit: contain;
            transition: transform 0.3s ease;
            filter: grayscale(30%);
        }

        .institution-logos img:hover {
            transform: scale(1.1);
            filter: grayscale(0%);
        }

        .institution-logos .logo-hkust {
            height: 60px;
        }

        .institution-logos .logo-ntu {
            height: 60px;
        }

        .institution-logos .logo-sysu {
            height: 62px;
        }

        .institution-logos .logo-nus {
            height: 68px;
        }


        .keywords {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin: 25px 0;
            flex-wrap: wrap;
        }

        .keyword-tag {
            background: #f7fafc;
            padding: 8px 18px;
            border-radius: 20px;
            font-size: 0.9em;
            font-weight: 500;
            border: 1px solid #e2e8f0;
            color: #4a5568;
        }

        .buttons {
            display: flex;
            justify-content: center;
            gap: 12px;
            margin-top: 30px;
            flex-wrap: wrap;
        }

        .btn {
            display: inline-block;
            padding: 12px 28px;
            background: #667eea;
            color: white;
            text-decoration: none;
            border-radius: 50px;
            font-weight: 600;
            transition: all 0.3s ease;
            box-shadow: 0 2px 8px rgba(102, 126, 234, 0.3);
            font-size: 0.95em;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
            background: #5568d3;
        }

        .content {
            padding: 60px 40px;
        }

        .section {
            margin-bottom: 60px;
        }

        .section-title {
            font-size: 2em;
            margin-bottom: 30px;
            text-align: center;
            color: #2d3748;
            font-weight: 600;
            position: relative;
            padding-bottom: 15px;
        }

        .section-title::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 60px;
            height: 3px;
            background: #667eea;
            border-radius: 2px;
        }

        .demo-container {
            text-align: center;
            margin: 40px 0;
        }

        .demo-container img,
        .demo-container video {
            max-width: 100%;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }

        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin: 40px 0;
        }

        .feature-card {
            background: #f8f9fa;
            padding: 30px;
            border-radius: 15px;
            border: 1px solid #e2e8f0;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
            transition: all 0.3s ease;
        }

        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 4px 16px rgba(102, 126, 234, 0.15);
            border-color: #667eea;
        }

        .feature-card h3 {
            color: #667eea;
            margin-bottom: 15px;
            font-size: 1.3em;
        }

        .feature-card p {
            color: #4a5568;
            line-height: 1.8;
        }

        .architecture-section {
            background: #f7fafc;
            padding: 40px;
            border-radius: 15px;
            margin: 40px 0;
            border: 1px solid #e2e8f0;
        }

        .architecture-section h3 {
            color: #667eea;
            margin: 25px 0 15px;
            font-size: 1.4em;
        }

        .architecture-section p,
        .architecture-section li {
            color: #4a5568;
            line-height: 1.8;
            margin-bottom: 15px;
        }

        .architecture-section ul {
            margin-left: 30px;
        }

        .formula {
            background: #ffffff;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            text-align: center;
            font-family: 'Courier New', monospace;
            border: 1px solid #e2e8f0;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
        }

        .image-caption {
            text-align: center;
            color: #718096;
            font-size: 0.95em;
            margin-top: 15px;
            font-style: italic;
        }

        .results-section {
            margin: 40px 0;
        }

        .citation {
            background: #f7fafc;
            color: #2d3748;
            padding: 30px;
            border-radius: 15px;
            margin: 40px 0;
            font-family: 'Courier New', monospace;
            font-size: 0.95em;
            line-height: 1.6;
            position: relative;
            border: 1px solid #e2e8f0;
        }

        .citation::before {
            content: 'Citation';
            position: absolute;
            top: -12px;
            left: 20px;
            background: #667eea;
            color: white;
            padding: 5px 15px;
            border-radius: 5px;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
            font-size: 0.9em;
            box-shadow: 0 2px 4px rgba(102, 126, 234, 0.3);
        }

        .highlight-box {
            background: #f7fafc;
            border-left: 4px solid #667eea;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
            border: 1px solid #e2e8f0;
            border-left: 4px solid #667eea;
        }

        /* Interactive Visualization Styles */
        .interactive-vis-container {
            margin: 40px 0;
            background: #f7fafc;
            padding: 40px;
            border-radius: 15px;
            border: 1px solid #e2e8f0;
        }

        .vis-intro {
            text-align: center;
            margin-bottom: 30px;
            color: #4a5568;
            font-size: 1.05em;
            line-height: 1.6;
        }

        .main-viewer {
            position: relative;
            width: 100%;
            max-width: 1000px;
            margin: 0 auto 40px;
            background: #ffffff;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        .pointcloud-container {
            width: 100%;
            height: 550px;
            background: #ffffff;
            position: relative;
            border-radius: 15px;
        }

        model-viewer {
            width: 100%;
            height: 100%;
            display: block;
            border-radius: 15px;
        }

        model-viewer::part(default-progress-bar) {
            background-color: #667eea;
        }

        .loading-indicator {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: #4a5568;
            font-size: 1.1em;
            text-align: center;
        }

        .loading-spinner {
            border: 4px solid rgba(102, 126, 234, 0.2);
            border-top: 4px solid #667eea;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto 10px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .viewer-info {
            position: absolute;
            top: 20px;
            left: 20px;
            background: rgba(0, 0, 0, 0.75);
            color: white;
            padding: 12px 20px;
            border-radius: 8px;
            font-size: 1.1em;
            font-weight: 600;
            backdrop-filter: blur(10px);
            z-index: 10;
        }

        .viewer-counter {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(102, 126, 234, 0.9);
            color: white;
            padding: 8px 16px;
            border-radius: 8px;
            font-size: 0.95em;
            font-weight: 600;
            z-index: 10;
        }

        .camera-hint {
            position: absolute;
            bottom: 20px;
            right: 20px;
            background: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 8px 14px;
            border-radius: 8px;
            font-size: 0.85em;
            z-index: 10;
            opacity: 0.6;
            transition: opacity 0.3s ease;
        }

        .camera-hint:hover {
            opacity: 1;
        }

        .thumbnail-carousel {
            position: relative;
            max-width: 900px;
            margin: 0 auto;
            padding: 0 50px;
        }

        .carousel-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(102, 126, 234, 0.9);
            color: white;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1.3em;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            z-index: 10;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
        }

        .carousel-nav:hover {
            background: #5568d3;
            transform: translateY(-50%) scale(1.1);
        }

        .carousel-nav.prev {
            left: 0;
        }

        .carousel-nav.next {
            right: 0;
        }

        .thumbnail-track {
            display: flex;
            gap: 15px;
            overflow-x: auto;
            scroll-behavior: smooth;
            padding: 10px 0;
            scrollbar-width: thin;
            scrollbar-color: #667eea #e2e8f0;
        }

        .thumbnail-track::-webkit-scrollbar {
            height: 8px;
        }

        .thumbnail-track::-webkit-scrollbar-track {
            background: #e2e8f0;
            border-radius: 4px;
        }

        .thumbnail-track::-webkit-scrollbar-thumb {
            background: #667eea;
            border-radius: 4px;
        }

        .thumbnail-item {
            flex-shrink: 0;
            width: 160px;
            cursor: pointer;
            position: relative;
            border-radius: 10px;
            overflow: hidden;
            transition: all 0.3s ease;
            border: 3px solid transparent;
        }

        .thumbnail-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(102, 126, 234, 0.3);
        }

        .thumbnail-item.active {
            border-color: #667eea;
            box-shadow: 0 4px 16px rgba(102, 126, 234, 0.4);
        }

        .thumbnail-item img {
            width: 100%;
            height: 100px;
            object-fit: cover;
            display: block;
        }

        .thumbnail-label {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(to top, rgba(0, 0, 0, 0.8), transparent);
            color: white;
            padding: 8px;
            font-size: 0.85em;
            font-weight: 600;
            text-align: center;
            pointer-events: none;
        }

        .thumbnail-progress {
            position: absolute;
            top: 0;
            left: 0;
            height: 3px;
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            width: 0%;
            transition: width 0.1s linear;
            z-index: 10;
            box-shadow: 0 1px 3px rgba(102, 126, 234, 0.5);
        }

        .thumbnail-play-icon {
            position: absolute;
            top: 8px;
            right: 8px;
            background: rgba(0, 0, 0, 0.6);
            color: white;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.7em;
            opacity: 0.8;
            transition: opacity 0.3s ease;
            pointer-events: none;
            z-index: 9;
        }

        .thumbnail-item:hover .thumbnail-play-icon {
            opacity: 0;
        }

        /* Ablation Comparison Styles */
        .ablation-comparison-container {
            margin: 40px 0;
            background: #f7fafc;
            padding: 40px;
            border-radius: 15px;
            border: 1px solid #e2e8f0;
        }

        .ablation-navigation {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
            margin: 25px 0 20px;
        }

        .ablation-nav-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 10px 24px;
            border-radius: 25px;
            font-size: 1em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 2px 8px rgba(102, 126, 234, 0.3);
        }

        .ablation-nav-btn:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
        }

        .ablation-nav-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .ablation-counter {
            background: white;
            padding: 8px 20px;
            border-radius: 20px;
            font-weight: 600;
            color: #667eea;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .ablation-content {
            display: flex;
            gap: 30px;
            margin-top: 30px;
            align-items: stretch;
        }

        .ablation-images {
            flex: 0 0 25%;
            background: white;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            height: 560px;
            display: flex;
            flex-direction: column;
        }

        .ablation-images h3 {
            margin-bottom: 15px;
            flex-shrink: 0;
        }

        .image-grid {
            display: flex;
            flex-direction: column;
            gap: 10px;
            flex: 1;
            overflow-y: auto;
            padding-right: 5px;
        }

        .image-grid::-webkit-scrollbar {
            width: 6px;
        }

        .image-grid::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 3px;
        }

        .image-grid::-webkit-scrollbar-thumb {
            background: #667eea;
            border-radius: 3px;
        }

        .image-grid::-webkit-scrollbar-thumb:hover {
            background: #5568d3;
        }

        .image-grid img {
            width: 100%;
            height: auto;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease;
            cursor: pointer;
            flex-shrink: 0;
        }

        .image-grid img:hover {
            transform: scale(1.05);
            box-shadow: 0 4px 16px rgba(102, 126, 234, 0.3);
        }

        .ablation-viewer {
            flex: 1;
            background: white;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            height: 560px;
            display: flex;
            flex-direction: column;
        }

        .ablation-viewer h3 {
            margin-bottom: 15px;
            flex-shrink: 0;
        }

        .comparison-viewer-container {
            position: relative;
            width: 100%;
            flex: 1;
            background: #ffffff;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);
        }

        .model-viewer-wrapper {
            position: relative;
            width: 100%;
            height: 100%;
        }

        .comparison-model {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }

        .comparison-model model-viewer {
            width: 100%;
            height: 100%;
        }

        .left-model {
            clip-path: inset(0 40% 0 0);
        }

        .right-model {
            clip-path: inset(0 0 0 60%);
        }

        .model-label {
            position: absolute;
            top: 15px;
            background: rgba(0, 0, 0, 0.75);
            color: white;
            padding: 10px 18px;
            border-radius: 8px;
            font-size: 0.95em;
            font-weight: 600;
            backdrop-filter: blur(10px);
            z-index: 10;
            pointer-events: none;
        }

        .left-label {
            left: 15px;
        }

        .right-label {
            right: 15px;
        }

        .comparison-slider {
            position: absolute;
            top: 0;
            left: 50%;
            width: 4px;
            height: 100%;
            background: transparent;
            cursor: ew-resize;
            z-index: 20;
            transform: translateX(-2px);
        }

        .slider-handle {
            position: absolute;
            top: 0;
            left: 50%;
            width: 4px;
            height: 100%;
            transform: translateX(-2px);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .slider-line {
            flex: 1;
            width: 4px;
            background: linear-gradient(180deg, #667eea 0%, #764ba2 100%);
            box-shadow: 0 0 10px rgba(102, 126, 234, 0.5);
        }

        .slider-button {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border: 3px solid white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.5em;
            font-weight: bold;
            cursor: ew-resize;
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
            transition: transform 0.2s ease;
            user-select: none;
        }

        .slider-button:hover {
            transform: scale(1.1);
        }

        .comparison-slider:active .slider-button {
            transform: scale(0.95);
        }

        /* VLA Comparison Section Styles */
        .vla-comparison-section {
            margin: 40px 0;
            background: #f7fafc;
            padding: 40px;
            border-radius: 15px;
            border: 1px solid #e2e8f0;
        }

        .vla-two-column {
            display: grid;
            grid-template-columns: 1.1fr 1fr;
            gap: 30px;
            margin-top: 20px;
            align-items: start;
        }

        .vla-navigation-left {
            display: flex;
            flex-direction: column;
            align-items: flex-start;
            gap: 8px;
            margin-bottom: 8px;
        }

        .vla-scenes-container {
            display: flex;
            flex-direction: column;
            gap: 8px;
            width: 100%;
        }

        /* Tab Navigation for Method Selection */
        .vla-tabs {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-bottom: 25px;
            border-bottom: 2px solid #e2e8f0;
            padding-bottom: 0;
        }

        .vla-tab-btn {
            background: transparent;
            border: none;
            padding: 12px 24px;
            font-size: 1em;
            font-weight: 600;
            color: #718096;
            cursor: pointer;
            border-bottom: 3px solid transparent;
            transition: all 0.3s ease;
            position: relative;
            top: 2px;
        }

        .vla-tab-btn:hover {
            color: #667eea;
        }

        .vla-tab-btn.active {
            color: #667eea;
            border-bottom-color: #667eea;
        }

        /* VLA Comparison Viewer (Left Side) */
        .vla-viewer {
            background: white;
            padding: 12px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            height: 560px;
            display: flex;
            flex-direction: column;
        }

        .vla-viewer-compact {
            height: 400px;
        }

        .vla-viewer h3 {
            margin-bottom: 8px;
            margin-top: 0;
            flex-shrink: 0;
            text-align: center;
            color: #667eea;
            font-size: 1.1em;
        }

        .vla-comparison-viewer-container {
            position: relative;
            width: 100%;
            flex: 1;
            background: #ffffff;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);
        }

        .vla-comparison-gif {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: contain;
        }

        .vla-left-gif {
            clip-path: inset(0 50% 0 0);
        }

        .vla-right-gif {
            clip-path: inset(0 0 0 50%);
        }

        .vla-gif-label {
            position: absolute;
            top: 10px;
            background: rgba(0, 0, 0, 0.75);
            color: white;
            padding: 8px 16px;
            border-radius: 8px;
            font-size: 0.9em;
            font-weight: 600;
            backdrop-filter: blur(10px);
            z-index: 10;
            pointer-events: none;
            white-space: nowrap;
        }

        .vla-left-label {
            left: 15px;
        }

        .vla-right-label {
            right: 15px;
        }

        .vla-comparison-slider {
            position: absolute;
            top: 0;
            left: 50%;
            width: 4px;
            height: 100%;
            background: transparent;
            cursor: ew-resize;
            z-index: 20;
            transform: translateX(-2px);
        }

        .vla-slider-handle {
            position: absolute;
            top: 0;
            left: 50%;
            width: 4px;
            height: 100%;
            transform: translateX(-2px);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .vla-slider-line {
            flex: 1;
            width: 4px;
            background: linear-gradient(180deg, #667eea 0%, #764ba2 100%);
            box-shadow: 0 0 10px rgba(102, 126, 234, 0.5);
        }

        .vla-slider-button {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border: 3px solid white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.5em;
            font-weight: bold;
            cursor: ew-resize;
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
            transition: transform 0.2s ease;
            user-select: none;
        }

        .vla-slider-button:hover {
            transform: scale(1.1);
        }

        .vla-comparison-slider:active .vla-slider-button {
            transform: scale(0.95);
        }

        .vla-table-container {
            background: white;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            overflow: hidden;
            display: flex;
            flex-direction: column;
            min-height: 0;
            width: 65%;
            flex: 0 0 65%;
        }

        .vla-table-container h3 {
            color: #667eea;
            margin-bottom: 15px;
            text-align: center;
            font-size: 1.2em;
            font-weight: 600;
            position: relative;
            padding-bottom: 10px;
            flex-shrink: 0;
        }

        .vla-table-container h3::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 60%;
            transform: translateX(-50%);
            width: 50px;
            height: 3px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 2px;
        }

        .vla-table-wrapper {
            flex: 1;
            overflow-y: auto;
            overflow-x: auto;
            min-height: 0;
        }

        .vla-table-wrapper::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }

        .vla-table-wrapper::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 4px;
        }

        .vla-table-wrapper::-webkit-scrollbar-thumb {
            background: #667eea;
            border-radius: 4px;
        }

        .vla-table-wrapper::-webkit-scrollbar-thumb:hover {
            background: #5568d3;
        }

        .vla-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 1.05em;
            margin-top: 0;
        }

        .vla-table th,
        .vla-table td {
            padding: 20px 6px;
            text-align: center;
            border: 1px solid #e2e8f0;
        }

        .vla-table thead th {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            font-weight: 600;
            position: sticky;
            top: 0;
            z-index: 10;
        }

        .vla-table thead th:first-child {
            border-top-left-radius: 8px;
        }

        .vla-table thead th:last-child {
            border-top-right-radius: 8px;
        }

        .vla-table thead tr:first-child th {
            padding: 20px 6px;
            font-size: 1em;
        }

        .vla-table thead tr:last-child th {
            padding: 16px 6px;
            font-size: 0.9em;
            background: rgba(102, 126, 234, 0.9);
            border-top: 1px solid rgba(255, 255, 255, 0.2);
        }

        .vla-table tbody tr:nth-child(even) {
            background: #f7fafc;
        }

        .vla-table tbody tr:hover {
            background: #edf2f7;
        }

        .vla-table .task-header {
            background: linear-gradient(135deg, #e2e8f0 0%, #cbd5e0 100%);
            font-weight: 600;
            color: #2d3748;
            border-top: 2px solid #667eea;
        }

        .vla-table .task-header td {
            border-top: 2px solid #667eea;
            border-bottom: 1px solid #cbd5e0;
            padding: 20px;
        }

        .vla-table .method-name {
            font-weight: 600;
            color: #4a5568;
            text-align: left;
            padding-left: 12px;
        }

        .vla-table .best-value {
            font-weight: 700;
            color: #667eea;
        }

        footer {
            background: #f7fafc;
            color: #4a5568;
            text-align: center;
            padding: 30px;
            font-size: 0.95em;
            border-top: 1px solid #e2e8f0;
            margin-top: 60px;
        }

        @media (max-width: 768px) {
            h1 {
                font-size: 1.8em;
            }

            .subtitle {
                font-size: 1.1em;
            }

            .content {
                padding: 40px 20px;
            }

            .buttons {
                flex-direction: column;
                align-items: center;
            }

            .btn {
                width: 80%;
                text-align: center;
            }

            .interactive-vis-container {
                padding: 20px;
            }

            .pointcloud-container {
                height: 400px;
            }

            .viewer-info {
                font-size: 0.85em;
                padding: 8px 12px;
                top: 10px;
                left: 10px;
            }

            .viewer-counter {
                font-size: 0.8em;
                padding: 6px 10px;
                top: 10px;
                right: 10px;
            }

            .camera-hint {
                font-size: 0.7em;
                padding: 6px 10px;
                bottom: 10px;
                right: 10px;
            }

            .thumbnail-carousel {
                padding: 0 40px;
            }

            .carousel-nav {
                width: 35px;
                height: 35px;
                font-size: 1.1em;
            }

            .thumbnail-item {
                width: 120px;
            }

            .thumbnail-item img {
                height: 80px;
            }

            .thumbnail-label {
                font-size: 0.75em;
                padding: 6px;
            }

            /* Ablation Comparison Responsive */
            .ablation-comparison-container {
                padding: 20px;
            }

            .ablation-navigation {
                gap: 10px;
                flex-wrap: wrap;
            }

            .ablation-nav-btn {
                padding: 8px 18px;
                font-size: 0.9em;
            }

            .ablation-counter {
                padding: 6px 16px;
                font-size: 0.9em;
            }

            .ablation-content {
                flex-direction: column;
                gap: 20px;
            }

            .ablation-images {
                flex: 1;
                height: auto;
                max-height: 400px;
            }

            .ablation-viewer {
                height: 400px;
            }

            .model-label {
                font-size: 0.8em;
                padding: 6px 12px;
                top: 10px;
            }

            .left-label {
                left: 10px;
            }

            .right-label {
                right: 10px;
            }

            .slider-button {
                width: 40px;
                height: 40px;
                font-size: 1.2em;
            }

            /* VLA Comparison Responsive */
            .vla-comparison-section {
                padding: 20px;
            }

            .vla-two-column {
                grid-template-columns: 1fr;
                gap: 30px;
            }

            .vla-table-container {
                overflow-x: auto;
            }

            .vla-table {
                font-size: 0.8em;
            }

            .vla-table th,
            .vla-table td {
                padding: 8px 5px;
            }

            .vla-viewer {
                height: 400px;
                padding: 10px;
            }

            .vla-viewer-compact {
                height: 320px;
            }

            .vla-viewer h3 {
                margin-bottom: 6px;
                font-size: 1em;
            }

            .vla-scenes-container {
                gap: 8px;
            }

            .vla-table-container {
                padding: 15px;
                width: 100%;
                flex: 0 0 100%;
            }

            .vla-table-container h3 {
                margin-bottom: 12px;
                font-size: 1.1em;
                padding-bottom: 8px;
            }

            .vla-navigation-left {
                align-items: center;
            }

            .vla-slider-button {
                width: 40px;
                height: 40px;
                font-size: 1.2em;
            }

            .vla-tabs {
                flex-wrap: wrap;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="logo-container">
                <img src="images/logo.png" alt="OmniVGGT Logo" style="max-width: 200px; height: auto;">
            </div>
            <h1>
                <span class="project-name"><span style="color: rgb(38, 89, 146);">Omni</span><span style="color: rgb(199, 64, 52);">VGGT</span></span><span class="title-divider">:</span> Omni-Modality Driven Visual Geometry Grounded Transformer
            </h1>
            
            
            <div class="authors">
                <a href="#">Haosong Peng</a><sup>1</sup>,
                <a href="#">Hao Li</a><sup>2</sup>,
                <a href="#">Yalun Dai</a><sup>2</sup>,
                <a href="#">Yushi Lan</a><sup>2</sup>,
                <a href="#">Yihang Luo</a><sup>2</sup>,
                <a href="#">Tianyu Qi</a><sup>3</sup>,
                <br>
                <a href="#">Zhengshen Zhang</a><sup>4</sup>,
                <a href="#">Yufeng Zhan</a><sup>1</sup>,
                <a href="#">Junfei Zhang</a><sup>5</sup>,
                <a href="#">Wenchao Xu</a><sup>1</sup>,
                <a href="#">Ziwei Liu</a><sup>2</sup>
            </div>
            
            <div class="affiliations">
                <sup>1</sup>HKUST &nbsp;&nbsp;
                <sup>2</sup>NTU &nbsp;&nbsp;
                <sup>3</sup>SYSU &nbsp;&nbsp;
                <sup>4</sup>NUS &nbsp;&nbsp;
                <sup>5</sup>Alibaba Group

            </div>

            <div class="institution-logos">
                <img src="images/hkust.png" alt="HKUST" title="HKUST" class="logo-hkust">
                <img src="images/NTU_Logo.jpg" alt="å—æ´‹ç†å·¥å¤§å­¦" title="å—æ´‹ç†å·¥å¤§å­¦ NTU" class="logo-ntu">
                <img src="images/sysu.png" alt="sysu" title="sysu" class="logo-sysu">
                <img src="images/nus_logo.jpg" alt="nus" title="nus" class="logo-nus">
            </div>

            <div class="keywords">
                <span class="keyword-tag">Spatial Foundation Model</span>
                <span class="keyword-tag">Casual Prior Input with GeoAdapter</span>
                <span class="keyword-tag">Vison-Language-Action Model</span>
            </div>
            
            <div class="buttons">
                <a href="https://huggingface.co/papers/2510.22706" class="btn" target="_blank">ðŸ“„ Paper</a>
                <a href="https://arxiv.org/abs/2510.22706" class="btn" target="_blank">ðŸ“‘ arXiv</a>
                <a href="https://github.com/Livioni/OmniVGGT-offcial" class="btn" target="_blank">ðŸ’» Code</a>
            </div>
        </header>

        <div class="content">


            <!-- Teaser Image -->
            <div class="section">
                <div class="demo-container">
                    <img src="images/teaser.png" alt="Teaser">
                    <p class="image-caption">
                        OmniVGGT, a model that can effectively benefit from an arbitrary number of auxiliary geometric modalities during both training and inference.
                    </p>
                </div>
                
            </div>

            <!-- Key Contributions -->
            <div class="section">
                <h2 class="section-title">Key Contributions</h2>
                <div class="demo-container">
                    <img src="images/overview.png" alt="OmniVGGT Framework">
                    <p class="image-caption">
                        Overview of OmniVGGT. Our goal is to design an enhanced spatial foundation model that not only reconstructs scenes from images but also accepts an arbitrary number of corresponding camera parameters and depth information as auxiliary inputs to guide more accurate 3D scene reconstruction.
                    </p>
                </div>
                <div class="feature-grid">
                    <div class="feature-card">
                        <h3>ðŸ”§ GeoAdapter for Stochastic Multimodal Inputs</h3>
                        <p>OmniVGGT uses a light-weight GeoAdapter that supports arbitrary numbers of input images, auxiliary modalities, and their combinations.</p>
                    </div>
                    <div class="feature-card">
                        <h3>ðŸ“Š Stochastic Multimodal Fusion</h3>
                        <p>We adopt a rule-based stochastic training strategy for OmniVGGT, ensuring its robustness and generalization when receiving varying numbers and combinations of modalities at test time.</p>
                    </div>
                    <div class="feature-card">
                        <h3>ðŸ”Œ Enhancing VLA Model Performance</h3>
                        <p>We integrate OmniVGGT with vision-language-action (VLA) models. Additional auxiliary information provides the VLA model with richer spatial understanding, thereby improving its success rate across various VLA tasks.</p>
                    </div>
                </div>
            </div>

            <!-- Auxiliary Information Guidance Section -->
            <div class="section">
                <h2 class="section-title">Auxiliary Information Guidance</h2>
                <div class="ablation-comparison-container">
                    <p class="vis-intro">
                        Compare the reconstruction quality with auxiliary information guidance.<br>
                        <span style="font-size: 0.95em; color: #667eea;">ðŸ’¡ Drag the slider to compare the two models</span>
                    </p>
                    
                    <!-- Scene Navigation -->
                    <div class="ablation-navigation">
                        <button class="ablation-nav-btn" id="ablationPrevBtn" onclick="changeAblationScene(-1)">â€¹ Previous</button>
                        <span class="ablation-counter" id="ablationCounter">Scene 1 / 4</span>
                        <button class="ablation-nav-btn" id="ablationNextBtn" onclick="changeAblationScene(1)">Next â€º</button>
                    </div>
                    
                    <div class="ablation-content">
                        <!-- Left: Image Gallery -->
                        <div class="ablation-images">
                            <h3 style="text-align: center; color: #667eea; margin-bottom: 15px;">Input Images</h3>
                            <div class="image-grid" id="ablationImageGrid">
                                <!-- Images will be dynamically loaded -->
                            </div>
                        </div>
                        
                        <!-- Right: Model Comparison Viewer -->
                        <div class="ablation-viewer">
                            <h3 style="text-align: center; color: #667eea; margin-bottom: 15px;">3D Reconstruction Comparison</h3>
                            <div class="comparison-viewer-container">
                                <div class="model-viewer-wrapper">
                                    <!-- Model 1: Without Information -->
                                    <div class="comparison-model left-model">
                                        <model-viewer
                                            id="ablationModelLeft"
                                            camera-controls
                                            touch-action="pan-x"
                                            auto-rotate-delay="0"
                                            shadow-intensity="0"
                                            style="background-color: #ffffff;"
                                            environment-image="neutral"
                                            exposure="1.0">
                                        </model-viewer>
                                        <div class="model-label left-label" id="ablationLeftLabel">Without Information</div>
                                    </div>
                                    
                                    <!-- Model 2: With Information -->
                                    <div class="comparison-model right-model">
                                        <model-viewer
                                            id="ablationModelRight"
                                            camera-controls
                                            touch-action="pan-x"
                                            auto-rotate-delay="0"
                                            shadow-intensity="0"
                                            style="background-color: #ffffff;"
                                            environment-image="neutral"
                                            exposure="1.0">
                                        </model-viewer>
                                        <div class="model-label right-label" id="ablationRightLabel">With Information</div>
                                    </div>
                                    
                                    <!-- Slider -->
                                    <div class="comparison-slider" id="comparisonSlider">
                                        <div class="slider-handle">
                                            <div class="slider-line"></div>
                                            <div class="slider-button">â‡„</div>
                                            <div class="slider-line"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Interactive Visualization Section -->
            <div class="section">
                <h2 class="section-title">More Interactive Visualization</h2>
                <div class="interactive-vis-container">
                    <p class="vis-intro">
                        OmniVGGT reconstruction on diverse scenes. Click any thumbnail below to explore its 3D reconstruction and point cloud visualization.<br>
                        <span style="font-size: 0.95em; color: #667eea;">ðŸ’¡ Hover over thumbnails to preview their image sequences</span>
                    </p>

                    <!-- Main Viewer -->
                    <div class="main-viewer" id="mainViewer">
                        <!-- 3D Model Viewer -->
                        <div class="pointcloud-container" style="border-radius: 15px;">
                            <model-viewer
                                id="modelViewer"
                                camera-controls
                                scale="5 5 5"
                                touch-action="pan-x"
                                auto-rotate-delay="0"
                                shadow-intensity="0"
                                min-camera-orbit="auto 0deg auto"
                                max-camera-orbit="auto 180deg auto"
                                style="background-color: #ffffff;"
                                environment-image="neutral"
                                exposure="1.0">
                                <div class="loading-indicator" id="loadingIndicator" slot="poster">
                                    <div class="loading-spinner"></div>
                                    <div>Loading 3D Model...</div>
                                </div>
                            </model-viewer>
                            <div class="viewer-info" id="viewerInfo">Meeting Room</div>
                            <div class="viewer-counter" id="viewerCounter">1 / 11</div>
                            <div class="camera-hint" title="Drag to rotate | Right-click to pan | Scroll to zoom">ðŸ’¡ Controls</div>
                        </div>
                    </div>

                    <!-- Thumbnail Carousel -->
                    <div class="thumbnail-carousel">
                        <button class="carousel-nav prev" onclick="scrollCarousel(-1)">â€¹</button>
                        <div class="thumbnail-track" id="thumbnailTrack">
                            <!-- Thumbnails will be dynamically generated -->
                        </div>
                        <button class="carousel-nav next" onclick="scrollCarousel(1)">â€º</button>
                    </div>
                </div>
            </div>

            <!-- Results Section -->
            <div class="section">
                <h2 class="section-title">Experimental Results</h2>
                <div class="results-section">
                    <div class="highlight-box">
                        <p style="font-size: 1.1em; font-weight: 600;">
                            OmniVGGT flexibly accommodates casual inputs, including arbitrary numbers of images, auxiliary information, and input combinations. 
                            It achieves state-of-the-art performance across multiple tasks, such as <strong>dense reconstruction</strong>, <strong>multi-view depth estimation</strong>, <strong>camera pose estimation</strong>, and <strong>vision-language-action</strong>, while maintaining high inference efficiency. 
                        </p>
                    </div>
                    
                    <div class="demo-container" style="margin: 40px 0;">
                        <img src="images/maintable.png" alt="Main Results">
                        <p class="image-caption">
                            Performance improvement with different ratios of auxiliary information injection.
                        </p>
                    </div>

                    <div class="highlight-box">
                        <p style="font-size: 1.1em;">
                            OmniVGGT consistently outperforms VGGT even without auxiliary inputs, and all relevant metrics improve when different percentages of camera and depth information are provided. 
                    </div>

                    <div class="demo-container" style="margin: 40px 0;">
                        <img src="images/ablation.png" alt="Spatial Tracking">
                        <p class="image-caption">
                            Visual Results of OmniVGGT with Different Auxiliary Information.
                        </p>
                    </div>

                    <div class="highlight-box">
                        <p style="font-size: 1.1em;">
                            By exploiting auxiliary information, OmniVGGT is capable of accurately reconstructing complex and highly challenging geometric environments. <br>
                            <strong>(Top)</strong> Camera pose and intrinsic information help correct challenging views with little or no overlap. <br>
                            <strong>(Middle)</strong> Providing depth information leads to more accurate local geometry, such as on door surfaces. <br> 
                            <strong>(Bottom)</strong> When both depth and camera information are provided, the relative distances and viewing angles are properly corrected.
                        </p>
                    </div>

                    <div class="demo-container" style="margin: 40px 0;">
                        <img src="images/visualization1.png" alt="Visualization1">
                        <p class="image-caption">
                            Visual Comparisons on 7-Scenes, NRGBD, and ETH3D datasets. <br>
                            OmniVGGT exhibits accurate spatial relationships and geometric consistency, even in extremely challenging cases. 
                        </p>
                    </div>

                    <div class="demo-container" style="margin: 40px 0;">
                        <img src="images/visualization3.png" alt="Visualization3">
                        <p class="image-caption">
                            More Visualizations on Image Pair Input.
                        </p>
                    </div>

                </div>
            </div>

            <!-- VLA Comparison Section -->
            <div class="section">
                <h2 class="section-title">VLA Performance Comparison</h2>
                <div class="vla-comparison-section">
                    <p class="vis-intro">
                        Compare the performance of Ours and Kosmos-VLA on different tasks.<br>
                        <span style="font-size: 0.95em; color: #667eea;">ðŸ’¡ Side-by-side comparison of the two methods</span>
                    </p>
                    
                    <div class="ablation-content">
                        <!-- Left: Navigation and Scenes -->
                        <div style="display: flex; flex-direction: column; gap: 8px;">
                            <!-- Scene Navigation (Left) -->
                            <div class="vla-navigation-left">
                                <div class="ablation-navigation" style="justify-content: flex-start;">
                                    <button class="ablation-nav-btn" id="vlaPrevBtn" onclick="changeVLAScene(-1)">â€¹ Previous</button>
                                    <span class="ablation-counter" id="vlaCounter">Page 1 / 2</span>
                                    <button class="ablation-nav-btn" id="vlaNextBtn" onclick="changeVLAScene(1)">Next â€º</button>
                                </div>
                            </div>
                            
                            <!-- Two Scenes Container -->
                            <div class="vla-scenes-container">
                                <!-- Scene 1 -->
                                <div class="vla-viewer vla-viewer-compact">
                                    <h3 id="vlaViewerTitle1">Scene 1</h3>
                                    <div class="vla-comparison-viewer-container" id="vlaContainer1">
                                        <!-- Ours GIF (Left) -->
                                        <img id="vlaLeftGif1" class="vla-comparison-gif vla-left-gif" src="" alt="Ours">
                                        <div class="vla-gif-label vla-left-label" id="vlaLeftLabel1">Ours</div>
                                        
                                        <!-- Kosmos GIF (Right) -->
                                        <img id="vlaRightGif1" class="vla-comparison-gif vla-right-gif" src="" alt="Kosmos-VLA">
                                        <div class="vla-gif-label vla-right-label" id="vlaRightLabel1">Kosmos-VLA</div>
                                        
                                        <!-- Slider -->
                                        <div class="vla-comparison-slider" id="vlaSlider1">
                                            <div class="vla-slider-handle">
                                                <div class="vla-slider-line"></div>
                                                <div class="vla-slider-button">â‡„</div>
                                                <div class="vla-slider-line"></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <!-- Scene 2 -->
                                <div class="vla-viewer vla-viewer-compact">
                                    <h3 id="vlaViewerTitle2">Scene 2</h3>
                                    <div class="vla-comparison-viewer-container" id="vlaContainer2">
                                        <!-- Ours GIF (Left) -->
                                        <img id="vlaLeftGif2" class="vla-comparison-gif vla-left-gif" src="" alt="Ours">
                                        <div class="vla-gif-label vla-left-label" id="vlaLeftLabel2">Ours</div>
                                        
                                        <!-- Kosmos GIF (Right) -->
                                        <img id="vlaRightGif2" class="vla-comparison-gif vla-right-gif" src="" alt="Kosmos-VLA">
                                        <div class="vla-gif-label vla-right-label" id="vlaRightLabel2">Kosmos-VLA</div>
                                        
                                        <!-- Slider -->
                                        <div class="vla-comparison-slider" id="vlaSlider2">
                                            <div class="vla-slider-handle">
                                                <div class="vla-slider-line"></div>
                                                <div class="vla-slider-button">â‡„</div>
                                                <div class="vla-slider-line"></div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Right Column: Performance Table -->
                        <div class="vla-table-container">
                            <h3>Performance Table on CALVIN Benchmark</h3>
                            <div class="vla-table-wrapper">
                            <table class="vla-table">
                                <thead>
                                    <tr>
                                        <th rowspan="2">Method</th>
                                        <th colspan="5">Tasks Completed in a Row (%)</th>
                                        <th rowspan="2">Avg. Len. â†‘</th>
                                    </tr>
                                    <tr>
                                        <th>1</th>
                                        <th>2</th>
                                        <th>3</th>
                                        <th>4</th>
                                        <th>5</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <!-- Task ABCD->D -->
                                    <tr class="task-header">
                                        <td colspan="8" style="text-align: center; font-weight: 600; padding: 12px;">Task: ABCDâ†’D</td>
                                    </tr>
                                    <tr>
                                        <td class="method-name">Kosmos-VLA (w/ rgb)</td>
                                        
                                        <td>92.4</td>
                                        <td>85.4</td>
                                        <td>79.0</td>
                                        <td>74.9</td>
                                        <td>68.7</td>
                                        <td>4.00</td>
                                    </tr>
                                    <tr>
                                        <td class="method-name">Kosmos-VLA (w/ rgb-d)</td>
                                        
                                        <td>92.4</td>
                                        <td>85.3</td>
                                        <td>80.0</td>
                                        <td>76.5</td>
                                        <td class="best-value">70.5</td>
                                        <td>4.05</td>
                                    </tr>
                                    <tr>
                                        <td class="method-name">Ours (w/ rgb)</td>
                                        
                                        <td>93.8</td>
                                        <td>86.6</td>
                                        <td>81.0</td>
                                        <td>75.5</td>
                                        <td>69.5</td>
                                        <td>4.07</td>
                                    </tr>
                                    <tr>
                                        <td class="method-name">Ours (w/ rgb-d)</td>
                                        
                                        <td class="best-value">94.0</td>
                                        <td class="best-value">87.0</td>
                                        <td class="best-value">81.3</td>
                                        <td class="best-value">76.8</td>
                                        <td>70.3</td>
                                        <td class="best-value">4.09</td>
                                    </tr>
                                    <!-- Task ABC->D -->
                                    <tr class="task-header">
                                        <td colspan="8" style="text-align: center; font-weight: 600; padding: 12px;">Task: ABCâ†’D</td>
                                    </tr>
                                    <tr>
                                        <td class="method-name">Kosmos-VLA (w/ rgb)</td>
                                        
                                        <td>90.1</td>
                                        <td>79.1</td>
                                        <td>69.2</td>
                                        <td>59.6</td>
                                        <td>50.9</td>
                                        <td>3.49</td>
                                    </tr>
                                    <tr>
                                        <td class="method-name">Kosmos-VLA (w/ rgb-d)</td>
                                        
                                        <td>93.6</td>
                                        <td>86.0</td>
                                        <td>78.6</td>
                                        <td class="best-value">73.3</td>
                                        <td class="best-value">66.3</td>
                                        <td class="best-value">3.98</td>
                                    </tr>
                                    <tr>
                                        <td class="method-name">Ours (w/ rgb)</td>
                                        
                                        <td>94.8</td>
                                        <td class="best-value">87.8</td>
                                        <td>78.3</td>
                                        <td>70.3</td>
                                        <td>62.0</td>
                                        <td>3.93</td>
                                    </tr>
                                    <tr>
                                        <td class="method-name">Ours (w/ rgb-d)</td>
                                        
                                        <td class="best-value">95.6</td>
                                        <td>87.7</td>
                                        <td class="best-value">79.2</td>
                                        <td>70.8</td>
                                        <td>63.0</td>
                                        <td>3.96</td>
                                    </tr>
                                </tbody>
                            </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Citation Section -->
            <div class="section">
                <h2 class="section-title">Citation</h2>
                <div class="citation">
@article{iggt2024,
  title={IGGT: Instance-Grounded Geometry Transformer for Semantic 3D Reconstruction},
  author={Hao Li and Zhengyu Zou and Fangfu Liu and Xuanyang Zhang and Fangzhou Hong and 
          Yukang Cao and Yushi Lan and Manyuan Zhang and Gang Yu and Dingwen Zhang and Ziwei Liu},
  journal={arXiv preprint arXiv:2510.22706},
  year={2024}
}
                </div>
            </div>
        </div>

        <footer>
            <p>Â© 2025 OmniVGGT Project | HKUST, NTU, SYSU, Alibaba Group</p>
            <p style="margin-top: 10px; opacity: 0.8;">Omni-Modality Driven Visual Geometry Grounded Transformer</p>
        </footer>
    </div>

    <script>
        // Visualization data from plys folder
        // cameraOrbit format: "horizontal vertical distance" (e.g., "45deg 75deg auto")
        // horizontal: æ°´å¹³è§’åº¦ (0deg = front, 90deg = right, 180deg = back, 270deg = left)
        // vertical: åž‚ç›´è§’åº¦ (0deg = top, 90deg = side, 180deg = bottom)
        // distance: è·ç¦» (auto or percentage like 120%)
        const visualizationScenes = [
            {
                name: "Meeting Room",
                folder: "glbs/1",
                glb: "glbs/1/meeting_room.glb",  // å¦‚æžœæœ‰GLBæ–‡ä»¶
                images: ["000.png", "001.png", "002.png", "003.png"],
                cameraOrbit: "149deg 64deg 4m"
            },
            {
                name: "Hospital",
                folder: "glbs/2",
                glb: "glbs/2/hospital.glb",
                images: ["000.png", "001.png", "003.png", "004.png"],
                cameraOrbit: "182deg 87deg 4m"
            },
            {
                name: "Living Room",
                folder: "glbs/3",
                glb: "glbs/3/living_room.glb",
                images: ["000.png", "001.png", "002.png"],
                cameraOrbit: "192deg 87deg 4m"
            },
            {
                name: "Beverage Shop",
                folder: "glbs/4",
                glb: "glbs/4/beverage.glb",
                images: ["000.png", "001.png", "002.png"],
                cameraOrbit: "200deg 100deg 4m"
            },
            {
                name: "Massage Room",
                folder: "glbs/5",
                glb: "glbs/5/massage_room.glb",
                images: ["000.png", "001.png", "002.png","003.png", "004.png", "005.png", "006.png"],
                cameraOrbit: "224deg 80deg 4m"
            },
            {
                name: "Buildings",
                folder: "glbs/6",
                glb: "glbs/6/buildings.glb",
                images: ["000.jpg", "001.jpg", "002.jpg"],
                cameraOrbit: "177deg 106deg 4m"
            },
            {
                name: "Village",
                folder: "glbs/7",
                glb: "glbs/7/village.glb",  // ä½¿ç”¨PLYæ–‡ä»¶
                images: ["005.jpg", "001.jpg", "002.jpg", "003.jpg","004.jpg"],
                cameraOrbit: "170deg 100deg 15m"
            },
            {
                name: "Bread",
                folder: "glbs/8",
                glb: "glbs/8/bread.glb",  // ä½¿ç”¨PLYæ–‡ä»¶
                images: ["000.jpg", "001.jpg",],
                cameraOrbit: "-170deg 107deg 4m"
            },
            {
                name: "Tunnel",
                folder: "glbs/9",
                glb: "glbs/9/tunnel.glb",  // ä½¿ç”¨PLYæ–‡ä»¶
                images: ["000.jpg", "001.jpg","002.jpg","003.jpg",],
                cameraOrbit: "178deg 95deg 4m"
            },
            {
                name: "Barn",
                folder: "glbs/10",
                glb: "glbs/10/barn.glb",  // ä½¿ç”¨PLYæ–‡ä»¶
                images: ["000.jpg", "001.jpg","002.jpg","003.jpg",],
                cameraOrbit: "217deg 68deg 15m"
            },
            {
                name: "Toy",
                folder: "glbs/11",
                glb: "glbs/11/toy.glb",  // ä½¿ç”¨PLYæ–‡ä»¶
                images: ["000.jpg",],
                cameraOrbit: "178deg 95deg 10m"
            },
        ];

        let currentSceneIndex = 0;
        let modelViewer;
        let thumbnailIntervals = {}; // å­˜å‚¨æ¯ä¸ªç¼©ç•¥å›¾çš„æ’­æ”¾é—´éš”
        let glbCache = {}; // ç¼“å­˜è½¬æ¢åŽçš„GLBæ¨¡åž‹
        let isInitialLoad = true; // æ ‡è®°æ˜¯å¦ä¸ºåˆå§‹åŠ è½½

        // ç¡®ä¿é¡µé¢å§‹ç»ˆä»Žé¡¶éƒ¨å¼€å§‹
        if (history.scrollRestoration) {
            history.scrollRestoration = 'manual';
        }
        
        // Initialize the visualization on page load
        document.addEventListener('DOMContentLoaded', function() {
            // å¼ºåˆ¶æ»šåŠ¨åˆ°é¡¶éƒ¨
            window.scrollTo(0, 0);
            
            modelViewer = document.getElementById('modelViewer');
            initializeVisualization();
            
            // åˆå§‹åŒ–å®ŒæˆåŽé‡ç½®æ ‡å¿—
            setTimeout(() => {
                isInitialLoad = false;
            }, 100);
        });

        // Load 3D model using model-viewer
        function loadModel(sceneData) {
            const loadingIndicator = document.getElementById('loadingIndicator');
            
            // Show loading indicator
            loadingIndicator.style.display = 'flex';
            loadingIndicator.innerHTML = '<div class="loading-spinner"></div><div>Loading 3D Model...</div>';
            
            // Check if GLB exists, otherwise convert PLY
            if (sceneData.glb) {
                // Direct GLB loading
                modelViewer.src = sceneData.glb;
                applyCameraOrbitSettings(sceneData);
                
                // Hide loading indicator when model loads and apply settings again
                modelViewer.addEventListener('load', function() {
                    // æ¨¡åž‹åŠ è½½å®ŒæˆåŽå†æ¬¡åº”ç”¨è®¾ç½®ï¼Œç¡®ä¿orientationç”Ÿæ•ˆ
                    applyCameraOrbitSettings(sceneData);
                    loadingIndicator.style.display = 'none';
                }, { once: true });
                
                // Handle load error
                modelViewer.addEventListener('error', function(event) {
                    console.error('Error loading model:', event);
                    loadingIndicator.innerHTML = '<div style="color: #ff6b6b;">Error loading model</div>';
                }, { once: true });
            } else if (sceneData.ply) {
                // Convert PLY to GLB
                const cacheKey = sceneData.ply;
                
                if (glbCache[cacheKey]) {
                    // Use cached GLB
                    console.log('Using cached GLB for:', sceneData.name);
                    modelViewer.src = glbCache[cacheKey];
                    applyCameraOrbitSettings(sceneData);
                    
                    // ç­‰å¾…æ¨¡åž‹åŠ è½½å®ŒæˆåŽå†æ¬¡åº”ç”¨è®¾ç½®
                    modelViewer.addEventListener('load', function() {
                        applyCameraOrbitSettings(sceneData);
                        loadingIndicator.style.display = 'none';
                    }, { once: true });
                } else {
                    // Convert PLY to GLB
                    loadingIndicator.innerHTML = '<div class="loading-spinner"></div><div>Converting PLY to GLB...</div>';
                    convertPLYtoGLB(sceneData.ply, function(glbUrl) {
                        glbCache[cacheKey] = glbUrl;
                        modelViewer.src = glbUrl;
                        applyCameraOrbitSettings(sceneData);
                        
                        // ç­‰å¾…æ¨¡åž‹åŠ è½½å®ŒæˆåŽå†æ¬¡åº”ç”¨è®¾ç½®
                        modelViewer.addEventListener('load', function() {
                            applyCameraOrbitSettings(sceneData);
                            loadingIndicator.style.display = 'none';
                        }, { once: true });
                    });
                }
            } else {
                console.error('No GLB or PLY file specified for:', sceneData.name);
                loadingIndicator.innerHTML = '<div style="color: #ff6b6b;">No 3D model available</div>';
            }
        }

        // Apply camera orbit settings
        function applyCameraOrbitSettings(sceneData) {
            const orbit = sceneData.cameraOrbit || "180deg 70deg auto";
            
            // ç¡®ä¿æ—‹è½¬é™åˆ¶å…è®¸å®Œå…¨è‡ªç”±çš„æ—‹è½¬
            modelViewer.minCameraOrbit = "auto 0deg auto";  // å…è®¸ä»»æ„è·ç¦»å’Œæ°´å¹³è§’åº¦ï¼Œåž‚ç›´0-180åº¦
            modelViewer.maxCameraOrbit = "auto 180deg auto"; // å…è®¸360åº¦æ°´å¹³æ—‹è½¬
            
            // åº”ç”¨æ¨¡åž‹æ—‹è½¬å¯¹é½åæ ‡è½´ï¼ˆå¦‚æžœæŒ‡å®šï¼‰
            if (sceneData.orientation) {
                modelViewer.orientation = sceneData.orientation;
                console.log('Applied model orientation:', sceneData.orientation);
            } else {
                // é»˜è®¤ä¸æ—‹è½¬
                modelViewer.orientation = "0deg 0deg 0deg";
            }
            
            modelViewer.cameraOrbit = orbit;
            modelViewer.resetTurntableRotation(0);
            modelViewer.jumpCameraToGoal();
        }

        // Convert PLY to GLB for model-viewer
        function convertPLYtoGLB(plyPath, callback) {
            console.log('ðŸ”„ Converting PLY to GLB:', plyPath);
            
            const loader = new THREE.PLYLoader();
            loader.load(
                plyPath,
                function(geometry) {
                    console.log('âœ… PLY loaded, vertices:', geometry.attributes.position.count);
                    geometry.computeVertexNormals();
                    
                    // Create point cloud mesh with appropriate size
                    const material = new THREE.PointsMaterial({
                        size: 0.01,  // Point size
                        vertexColors: true,
                        sizeAttenuation: true
                    });
                    const points = new THREE.Points(geometry, material);
                    
                    // Center and scale the point cloud
                    geometry.computeBoundingBox();
                    const center = geometry.boundingBox.getCenter(new THREE.Vector3());
                    points.position.sub(center);
                    
                    const size = geometry.boundingBox.getSize(new THREE.Vector3());
                    const maxDim = Math.max(size.x, size.y, size.z);
                    const scale = 2.0 / maxDim;
                    points.scale.set(scale, scale, scale);
                    
                    // Create scene for export
                    const tempScene = new THREE.Scene();
                    tempScene.add(points);
                    
                    // Export to GLB
                    const exporter = new THREE.GLTFExporter();
                    exporter.parse(
                        tempScene,
                        function(gltf) {
                            const blob = new Blob([gltf], { type: 'model/gltf-binary' });
                            const url = URL.createObjectURL(blob);
                            console.log('âœ… PLY successfully converted to GLB');
                            callback(url);
                        },
                        function(error) {
                            console.error('âŒ Error exporting GLB:', error);
                        },
                        { binary: true }
                    );
                },
                function(xhr) {
                    const percentComplete = Math.round((xhr.loaded / xhr.total) * 100);
                    console.log('ðŸ“¥ Loading PLY: ' + percentComplete + '%');
                },
                function(error) {
                    console.error('âŒ Error loading PLY:', error);
                }
            );
        }

        function initializeVisualization() {
            const thumbnailTrack = document.getElementById('thumbnailTrack');
            
            // Generate thumbnails using first image of each scene
            visualizationScenes.forEach((sceneData, index) => {
                const thumbnailItem = document.createElement('div');
                thumbnailItem.className = 'thumbnail-item' + (index === 0 ? ' active' : '');
                thumbnailItem.onclick = () => selectScene(index);
                thumbnailItem.dataset.sceneIndex = index;
                
                const firstImage = `${sceneData.folder}/${sceneData.images[0]}`;
                const hasMultipleImages = sceneData.images.length > 1;
                thumbnailItem.innerHTML = `
                    <img src="${firstImage}" alt="${sceneData.name}" class="thumbnail-image">
                    <div class="thumbnail-label">${sceneData.name}</div>
                    <div class="thumbnail-progress"></div>
                    ${hasMultipleImages ? '<div class="thumbnail-play-icon">â–¶</div>' : ''}
                `;
                
                // Add hover event to play image sequence in the thumbnail itself
                thumbnailItem.addEventListener('mouseenter', () => {
                    playThumbnailSequence(thumbnailItem, index);
                });
                
                thumbnailItem.addEventListener('mouseleave', () => {
                    stopThumbnailSequence(thumbnailItem, index);
                });
                
                thumbnailTrack.appendChild(thumbnailItem);
            });

            // Load first scene
            selectScene(0);
        }

        function selectScene(index) {
            currentSceneIndex = index;
            const sceneData = visualizationScenes[index];
            
            // Update active thumbnail
            document.querySelectorAll('.thumbnail-item').forEach((item, i) => {
                item.classList.toggle('active', i === index);
            });

            // Update viewer info
            document.getElementById('viewerInfo').textContent = sceneData.name;
            document.getElementById('viewerCounter').textContent = `${index + 1} / ${visualizationScenes.length}`;
            
            // Load 3D model with custom camera settings
            loadModel(sceneData);
            
            // Scroll thumbnail into view (ä½†åˆå§‹åŠ è½½æ—¶ä¸æ»šåŠ¨ï¼Œé¿å…é¡µé¢è·³è½¬)
            if (!isInitialLoad) {
                const thumbnailTrack = document.getElementById('thumbnailTrack');
                const activeThumbnail = thumbnailTrack.children[index];
                if (activeThumbnail) {
                    activeThumbnail.scrollIntoView({ behavior: 'smooth', block: 'nearest', inline: 'center' });
                }
            }
        }

        // Play image sequence in the thumbnail itself
        function playThumbnailSequence(thumbnailItem, sceneIndex) {
            const sceneData = visualizationScenes[sceneIndex];
            if (sceneData.images.length <= 1) return; // No sequence to play
            
            const img = thumbnailItem.querySelector('.thumbnail-image');
            const progressBar = thumbnailItem.querySelector('.thumbnail-progress');
            let currentIndex = 0;
            
            // Update image immediately
            img.src = `${sceneData.folder}/${sceneData.images[currentIndex]}`;
            progressBar.style.width = '0%';
            
            // Start playing sequence
            thumbnailIntervals[sceneIndex] = setInterval(() => {
                currentIndex = (currentIndex + 1) % sceneData.images.length;
                img.src = `${sceneData.folder}/${sceneData.images[currentIndex]}`;
                
                // Update progress bar
                const progress = ((currentIndex + 1) / sceneData.images.length) * 100;
                progressBar.style.width = progress + '%';
            }, 300); // Change image every 300ms
        }

        // Stop playing sequence and reset to first image
        function stopThumbnailSequence(thumbnailItem, sceneIndex) {
            if (thumbnailIntervals[sceneIndex]) {
                clearInterval(thumbnailIntervals[sceneIndex]);
                delete thumbnailIntervals[sceneIndex];
            }
            
            const sceneData = visualizationScenes[sceneIndex];
            const img = thumbnailItem.querySelector('.thumbnail-image');
            const progressBar = thumbnailItem.querySelector('.thumbnail-progress');
            
            // Reset to first image
            img.src = `${sceneData.folder}/${sceneData.images[0]}`;
            progressBar.style.width = '0%';
        }

        function scrollCarousel(direction) {
            const thumbnailTrack = document.getElementById('thumbnailTrack');
            const scrollAmount = 200;
            thumbnailTrack.scrollBy({ left: direction * scrollAmount, behavior: 'smooth' });
        }

        // Keyboard navigation
        document.addEventListener('keydown', function(e) {
            // é˜²æ­¢åœ¨è¾“å…¥æ¡†ä¸­è§¦å‘
            if (e.target.tagName === 'INPUT' || e.target.tagName === 'TEXTAREA') {
                return;
            }
            
            if (e.key === 'ArrowLeft') {
                const prevIndex = (currentSceneIndex - 1 + visualizationScenes.length) % visualizationScenes.length;
                selectScene(prevIndex);
            } else if (e.key === 'ArrowRight') {
                const nextIndex = (currentSceneIndex + 1) % visualizationScenes.length;
                selectScene(nextIndex);
            }
        });

        // Ablation Scene Data
        const ablationScenes = [
            {
                name: "Camera Scene 1",
                type: "camera",
                folder: "glbs/ablations/camera/0",
                images: ["DSC_0286.JPG", "DSC_0296.JPG", "DSC_0299.JPG", "DSC_0314.JPG"],
                modelWithout: "glbs/ablations/camera/0/scene_0_woc.glb",
                modelWith: "glbs/ablations/camera/0/scene_0_wc.glb",
                cameraOrbit: "228deg 79deg 5m",
                cameraTarget: "0.08m 0.64m -0.05m"
            },
            {
                name: "Camera Scene 2",
                type: "camera",
                folder: "glbs/ablations/camera/1",
                images: ["DSC_0676.JPG", "DSC_0680.JPG", "DSC_0704.JPG"],
                modelWithout: "glbs/ablations/camera/1/scene_19_woc.glb",
                modelWith: "glbs/ablations/camera/1/scene_19_wc.glb",
                cameraOrbit: "260deg 77deg 5m",
                cameraTarget: "0.26m 0.09m -0.56m"
            },
            {
                name: "Depth Scene 1",
                type: "depth",
                folder: "glbs/ablations/depth/0",
                images: ["Image_16_0_0001_0.png", "Image_37_0_0001_0.png", "Image_47_0_0001_0.png", "Image_97_0_0001_0.png"],
                modelWithout: "glbs/ablations/depth/0/scene_7_wod.glb",
                modelWith: "glbs/ablations/depth/0/scene_7_wd.glb",
                cameraOrbit: "169deg 78deg 2m",
                cameraTarget: "0.43m 0.09m 0.31m"
            },
            {
                name: "Depth Scene 2",
                type: "depth",
                folder: "glbs/ablations/depth/1",
                images: ["Image_26_0_0001_0.png", "Image_33_0_0001_0.png", "Image_81_0_0001_0.png", "Image_91_0_0001_0.png"],
                modelWithout: "glbs/ablations/depth/1/scene_25_wod.glb",
                modelWith: "glbs/ablations/depth/1/scene_25_wd.glb",
                cameraOrbit: "184deg 88deg 2m",
                cameraTarget: "-0.06m -0.04m 0.27m"
            }
        ];

        let currentAblationIndex = 0;

        // Initialize ablation scene on page load
        document.addEventListener('DOMContentLoaded', function() {
            loadAblationScene(0);
        });

        // Change ablation scene
        function changeAblationScene(direction) {
            currentAblationIndex += direction;
            
            // Wrap around
            if (currentAblationIndex < 0) {
                currentAblationIndex = ablationScenes.length - 1;
            } else if (currentAblationIndex >= ablationScenes.length) {
                currentAblationIndex = 0;
            }
            
            loadAblationScene(currentAblationIndex);
        }

        // Load ablation scene
        function loadAblationScene(index) {
            const scene = ablationScenes[index];
            
            // Update counter
            document.getElementById('ablationCounter').textContent = `Scene ${index + 1} / ${ablationScenes.length}`;
            
            // Update labels based on scene type
            const leftLabel = document.getElementById('ablationLeftLabel');
            const rightLabel = document.getElementById('ablationRightLabel');
            
            if (scene.type === 'camera') {
                leftLabel.textContent = 'Without Camera Information';
                rightLabel.textContent = 'With Camera Information';
            } else if (scene.type === 'depth') {
                leftLabel.textContent = 'Without Depth Information';
                rightLabel.textContent = 'With Depth Information';
            }
            
            // Update images
            const imageGrid = document.getElementById('ablationImageGrid');
            imageGrid.innerHTML = '';
            scene.images.forEach((img, i) => {
                const imgElement = document.createElement('img');
                imgElement.src = `${scene.folder}/${img}`;
                imgElement.alt = `Input ${i + 1}`;
                imageGrid.appendChild(imgElement);
            });
            
            // Update models
            const leftViewer = document.getElementById('ablationModelLeft');
            const rightViewer = document.getElementById('ablationModelRight');
            
            if (leftViewer && rightViewer) {
                // Function to apply camera settings
                const applyCameraSettings = (viewer) => {
                    // Set camera orbit restrictions
                    viewer.minCameraOrbit = "auto 0deg 1m";
                    viewer.maxCameraOrbit = "auto 180deg 10m";
                    
                    // Apply scene-specific camera settings
                    viewer.cameraOrbit = scene.cameraOrbit;
                    if (scene.cameraTarget) {
                        viewer.cameraTarget = scene.cameraTarget;
                    }
                    viewer.jumpCameraToGoal();
                };
                
                // Set up event listeners to apply settings after model loads
                const leftLoadHandler = () => {
                    applyCameraSettings(leftViewer);
                };
                const rightLoadHandler = () => {
                    applyCameraSettings(rightViewer);
                };
                
                // Remove old listeners if any
                leftViewer.removeEventListener('load', leftLoadHandler);
                rightViewer.removeEventListener('load', rightLoadHandler);
                
                // Add new listeners
                leftViewer.addEventListener('load', leftLoadHandler, { once: true });
                rightViewer.addEventListener('load', rightLoadHandler, { once: true });
                
                // Update model sources
                leftViewer.src = scene.modelWithout;
                rightViewer.src = scene.modelWith;
                
                // Also apply immediately in case models are already loaded
                applyCameraSettings(leftViewer);
                applyCameraSettings(rightViewer);
            }
            
            // Reset slider position to center
            const slider = document.getElementById('comparisonSlider');
            const leftModel = document.querySelector('.left-model');
            const rightModel = document.querySelector('.right-model');
            
            if (slider && leftModel && rightModel) {
                slider.style.left = '50%';
                leftModel.style.clipPath = 'inset(0 50% 0 0)';
                rightModel.style.clipPath = 'inset(0 0 0 50%)';
            }
            
        }

        // Comparison Slider Functionality
        (function() {
            const slider = document.getElementById('comparisonSlider');
            const leftModel = document.querySelector('.left-model');
            const rightModel = document.querySelector('.right-model');
            const container = document.querySelector('.comparison-viewer-container');
            const leftViewer = document.getElementById('ablationModelLeft');
            const rightViewer = document.getElementById('ablationModelRight');
            
            if (!slider || !container) return;
            
            let isDragging = false;
            
            function updateSliderPosition(clientX) {
                const rect = container.getBoundingClientRect();
                let position = ((clientX - rect.left) / rect.width) * 100;
                position = Math.max(0, Math.min(100, position));
                
                slider.style.left = position + '%';
                leftModel.style.clipPath = `inset(0 ${100 - position}% 0 0)`;
                rightModel.style.clipPath = `inset(0 0 0 ${position}%)`;
            }
            
            slider.addEventListener('mousedown', (e) => {
                isDragging = true;
                e.preventDefault();
            });
            
            document.addEventListener('mousemove', (e) => {
                if (!isDragging) return;
                updateSliderPosition(e.clientX);
            });
            
            document.addEventListener('mouseup', () => {
                isDragging = false;
            });
            
            // Touch events for mobile
            slider.addEventListener('touchstart', (e) => {
                isDragging = true;
                e.preventDefault();
            });
            
            document.addEventListener('touchmove', (e) => {
                if (!isDragging) return;
                updateSliderPosition(e.touches[0].clientX);
            });
            
            document.addEventListener('touchend', () => {
                isDragging = false;
            });
            
            // Synchronize camera movements
            function syncCameraOrbit() {
                if (leftViewer && rightViewer) {
                    const leftOrbit = leftViewer.getCameraOrbit();
                    rightViewer.cameraOrbit = `${leftOrbit.theta}rad ${leftOrbit.phi}rad ${leftOrbit.radius}m`;
                }
            }
            
            function syncCameraTarget() {
                if (leftViewer && rightViewer) {
                    const leftTarget = leftViewer.getCameraTarget();
                    rightViewer.cameraTarget = `${leftTarget.x}m ${leftTarget.y}m ${leftTarget.z}m`;
                }
            }
            
            // Add camera sync listeners
            if (leftViewer && rightViewer) {
                leftViewer.addEventListener('camera-change', () => {
                    syncCameraOrbit();
                    syncCameraTarget();
                });
                
                rightViewer.addEventListener('camera-change', () => {
                    const rightOrbit = rightViewer.getCameraOrbit();
                    leftViewer.cameraOrbit = `${rightOrbit.theta}rad ${rightOrbit.phi}rad ${rightOrbit.radius}m`;
                    
                    const rightTarget = rightViewer.getCameraTarget();
                    leftViewer.cameraTarget = `${rightTarget.x}m ${rightTarget.y}m ${rightTarget.z}m`;
                });
            }
        })();

        // VLA Visualization Interactive Controls
        let currentVLAPage = 0;
        const scenesPerPage = 2;
        
        const vlaScenes = [
            {
                name: 'Lift Red Block Slider',
                freefusion: { src: 'vla/freefusion/0-2-lift_red_block_slider-succ.gif', label: 'Ours' },
                kosmos: { src: 'vla/kosmos/0-2-lift_red_block_slider-fail%20(1).gif', label: 'Kosmos-VLA' }
            },
            {
                name: 'Stack Block',
                freefusion: { src: 'vla/freefusion/16-2-stack_block-succ.gif', label: 'Ours' },
                kosmos: { src: 'vla/kosmos/16-2-stack_block-fail.gif', label: 'Kosmos-VLA' }
            },
            {
                name: 'Place In Slider',
                freefusion: { src: 'vla/freefusion/3-2-place_in_slider-succ.gif', label: 'Ours' },
                kosmos: { src: 'vla/kosmos/3-2-place_in_slider-fail.gif', label: 'Kosmos-VLA' }
            },
            {
                name: 'Push Blue Block Left',
                freefusion: { src: 'vla/freefusion/5-0-push_blue_block_left-succ.gif', label: 'Ours' },
                kosmos: { src: 'vla/kosmos/5-0-push_blue_block_left-fail.gif', label: 'Kosmos-VLA' }
            }
        ];

        // Calculate total pages
        const totalVLAPages = Math.ceil(vlaScenes.length / scenesPerPage);

        // Initialize VLA visualization
        function initializeVLA() {
            loadVLAPage(currentVLAPage);
            initializeVLASliders();
        }

        // Change VLA page
        function changeVLAScene(direction) {
            const newPage = currentVLAPage + direction;
            
            if (newPage < 0 || newPage >= totalVLAPages) {
                return; // Don't go beyond bounds
            }
            
            currentVLAPage = newPage;
            loadVLAPage(currentVLAPage);
        }

        // Load VLA page (showing 2 scenes)
        function loadVLAPage(pageIndex) {
            if (pageIndex < 0 || pageIndex >= totalVLAPages) return;
            
            // Update counter
            const counter = document.getElementById('vlaCounter');
            if (counter) {
                counter.textContent = `${pageIndex + 1} / ${totalVLAPages}`;
            }
            
            // Update navigation buttons
            const prevBtn = document.getElementById('vlaPrevBtn');
            const nextBtn = document.getElementById('vlaNextBtn');
            if (prevBtn) prevBtn.disabled = pageIndex === 0;
            if (nextBtn) nextBtn.disabled = pageIndex === totalVLAPages - 1;
            
            // Load scene 1
            const scene1Index = pageIndex * scenesPerPage;
            if (scene1Index < vlaScenes.length) {
                const scene1 = vlaScenes[scene1Index];
                updateScene(1, scene1);
            } else {
                // Hide scene 1 if not available
                const scene1Container = document.querySelector('.vla-scenes-container > div:first-child');
                if (scene1Container) scene1Container.style.display = 'none';
            }
            
            // Load scene 2
            const scene2Index = pageIndex * scenesPerPage + 1;
            if (scene2Index < vlaScenes.length) {
                const scene2 = vlaScenes[scene2Index];
                updateScene(2, scene2);
            } else {
                // Hide scene 2 if not available
                const scene2Container = document.querySelector('.vla-scenes-container > div:last-child');
                if (scene2Container) scene2Container.style.display = 'none';
            }
        }

        // Update a single scene
        function updateScene(sceneNum, scene) {
            const viewerTitle = document.getElementById(`vlaViewerTitle${sceneNum}`);
            const leftGif = document.getElementById(`vlaLeftGif${sceneNum}`);
            const rightGif = document.getElementById(`vlaRightGif${sceneNum}`);
            const leftLabel = document.getElementById(`vlaLeftLabel${sceneNum}`);
            const rightLabel = document.getElementById(`vlaRightLabel${sceneNum}`);
            
            if (viewerTitle) {
                viewerTitle.textContent = scene.name;
            }
            if (leftGif) {
                leftGif.src = scene.freefusion.src;
                leftGif.alt = scene.freefusion.label;
            }
            if (rightGif) {
                rightGif.src = scene.kosmos.src;
                rightGif.alt = scene.kosmos.label;
            }
            if (leftLabel) {
                leftLabel.textContent = scene.freefusion.label;
            }
            if (rightLabel) {
                rightLabel.textContent = scene.kosmos.label;
            }
            
            // Show the scene container
            const sceneContainer = document.querySelector(`.vla-scenes-container > div:nth-child(${sceneNum})`);
            if (sceneContainer) sceneContainer.style.display = 'flex';
            
            // Reset slider position to center
            const slider = document.getElementById(`vlaSlider${sceneNum}`);
            if (slider && leftGif && rightGif) {
                slider.style.left = '50%';
                leftGif.style.clipPath = 'inset(0 50% 0 0)';
                rightGif.style.clipPath = 'inset(0 0 0 50%)';
            }
        }

        // Initialize VLA sliders for all scenes
        function initializeVLASliders() {
            [1, 2].forEach(sceneNum => {
                initializeVLASlider(sceneNum);
            });
        }

        // Initialize slider for a specific scene
        function initializeVLASlider(sceneNum) {
            const slider = document.getElementById(`vlaSlider${sceneNum}`);
            const leftGif = document.getElementById(`vlaLeftGif${sceneNum}`);
            const rightGif = document.getElementById(`vlaRightGif${sceneNum}`);
            const container = document.getElementById(`vlaContainer${sceneNum}`);
            
            if (!slider || !container) return;
            
            let isDragging = false;
            
            function updateSliderPosition(clientX) {
                const rect = container.getBoundingClientRect();
                let position = ((clientX - rect.left) / rect.width) * 100;
                position = Math.max(0, Math.min(100, position));
                
                slider.style.left = position + '%';
                if (leftGif) leftGif.style.clipPath = `inset(0 ${100 - position}% 0 0)`;
                if (rightGif) rightGif.style.clipPath = `inset(0 0 0 ${position}%)`;
            }
            
            slider.addEventListener('mousedown', (e) => {
                isDragging = true;
                e.preventDefault();
            });
            
            document.addEventListener('mousemove', (e) => {
                if (!isDragging) return;
                updateSliderPosition(e.clientX);
            });
            
            document.addEventListener('mouseup', () => {
                isDragging = false;
            });
            
            // Touch events for mobile
            slider.addEventListener('touchstart', (e) => {
                isDragging = true;
                e.preventDefault();
            });
            
            document.addEventListener('touchmove', (e) => {
                if (!isDragging) return;
                updateSliderPosition(e.touches[0].clientX);
            });
            
            document.addEventListener('touchend', () => {
                isDragging = false;
            });
        }


        // Initialize VLA on page load
        document.addEventListener('DOMContentLoaded', function() {
            initializeVLA();
        });

        // Keyboard navigation for VLA
        document.addEventListener('keydown', function(e) {
            if (e.target.tagName === 'INPUT' || e.target.tagName === 'TEXTAREA') {
                return;
            }
            
            if (e.key === 'ArrowLeft') {
                changeVLAScene(-1);
            } else if (e.key === 'ArrowRight') {
                changeVLAScene(1);
            }
        });

    </script>
</body>
</html>